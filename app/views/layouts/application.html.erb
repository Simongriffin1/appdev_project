<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Drift â€“ AI Journaling" %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <%= yield :head %>
  </head>

  <body>
    <div class="app-shell">
      <header class="navbar">
        <div class="navbar__brand">
          Drift
        </div>
        <nav class="navbar__links">
          <% if current_user %>
            <%= link_to "Dashboard", dashboard_path %>
            <%= link_to "Entries", journal_entries_path %>
            <%= link_to "Topics", topics_path %>
            <%= button_to "Sign out", sign_out_path, method: :delete, form: { style: "display:inline" }, class: "btn btn-ghost" %>
          <% else %>
            <%= link_to "Sign in", sign_in_path %>
            <%= link_to "Sign up", new_user_path %>
          <% end %>
        </nav>
      </header>

      <main class="main">
        <div class="container">
          <% if flash[:notice].present? %>
            <div class="flash flash--notice"><%= flash[:notice] %></div>
          <% end %>
          <% if flash[:alert].present? %>
            <div class="flash flash--alert"><%= flash[:alert] %></div>
          <% end %>

          <%= yield %>
        </div>
      </main>
    </div>
  </body>
</html>
