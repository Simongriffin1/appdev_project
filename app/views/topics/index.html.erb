<h1 class="page-title">Topics</h1>

<div class="card">
  <% if @topics.any? %>
    <p class="card__subtitle">
      Click a topic to see all the entries where it shows up.
    </p>

    <ul class="entry-list">
      <% @topics.each do |topic| %>
        <li class="entry-list__item">
          <%= link_to topic.name, journal_entries_path(topic_id: topic.id), class: "badge" %>
          <span class="muted">
            <% count = topic.respond_to?(:journal_entries_count) ? topic.journal_entries_count.to_i : topic.journal_entries.count %>
            Â· <%= count %> entr<%= count == 1 ? "y" : "ies" %>
          </span>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p class="muted">
      No topics yet. Once you have a few analyzed entries, the AI will start tagging recurring themes.
    </p>
  <% end %>

  <div class="btn-row" style="margin-top: 1rem;">
    <%= link_to "Back to dashboard", dashboard_path, class: "btn btn-ghost" %>
  </div>
</div>
